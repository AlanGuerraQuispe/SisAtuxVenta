package atux.vistas.venta.aperCierre;

import atux.controllers.CUsuario;
import atux.controllers.CCajaPago;
import atux.modelbd.Usuario;
import atux.util.common.AtuxSearch;
import atux.util.common.AtuxUtility;
import atux.util.common.AtuxDBUtility;
import atux.util.common.AtuxVariables;
import java.awt.event.KeyEvent;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JDesktopPane;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;


/**
 *
 * @author Omar Davila
 */
public class IArqueosDeCaja extends javax.swing.JDialog {
    private static Usuario usuario;
    JDesktopPane dp;   
    private final Log logger = LogFactory.getLog(getClass());
    
    public IArqueosDeCaja(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        Limpiar(); 
        this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);        
        AtuxUtility.centrarVentana(this);        
    }
    
    public IArqueosDeCaja() {
        this(null, true);
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelImageArqueos = new elaprendiz.gui.panel.PanelImage();
        jPanel2 = new javax.swing.JPanel();
        txtCaja = new elaprendiz.gui.textField.TextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        txtFecha = new elaprendiz.gui.textField.TextField();
        txtSerie = new elaprendiz.gui.textField.TextField();
        txtTurno = new elaprendiz.gui.textField.TextField();
        jPanel3 = new javax.swing.JPanel();
        btnArqueoWincha = new elaprendiz.gui.button.ButtonRound();
        bntArqueoGeneral = new elaprendiz.gui.button.ButtonRound();
        btnDiferencias = new elaprendiz.gui.button.ButtonRound();
        btnListadoPedidos = new elaprendiz.gui.button.ButtonRound();
        bntAceptar7 = new elaprendiz.gui.button.ButtonRound();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jPanel1 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTable3 = new javax.swing.JTable();
        jPanel4 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtNombreCajero = new elaprendiz.gui.textField.TextField();
        txtCodCajero = new elaprendiz.gui.textField.TextField();

        setTitle("Cierre Caja Turno");
        setResizable(false);

        panelImageArqueos.setBackground(new java.awt.Color(51, 153, 255));
        panelImageArqueos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/atux/resources/fondoazulceleste.jpg"))); // NOI18N

        jPanel2.setEnabled(false);
        jPanel2.setOpaque(false);

        txtCaja.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtCaja.setEnabled(false);

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel5.setText("Caja :");

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel6.setText("Serie :");

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel7.setText("Turno :");

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel8.setText("Fecha :");

        txtFecha.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtFecha.setEnabled(false);

        txtSerie.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtSerie.setEnabled(false);

        txtTurno.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTurno.setEnabled(false);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 81, Short.MAX_VALUE)
                .addComponent(jLabel7)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtTurno, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(70, 70, 70)
                .addComponent(jLabel6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtSerie, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(58, 58, 58)
                .addComponent(jLabel8)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtFecha, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(jLabel5)
                .addComponent(txtCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(txtFecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel8)
                .addComponent(jLabel6)
                .addComponent(txtSerie, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(txtTurno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel7))
        );

        jPanel3.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel3.setOpaque(false);

        btnArqueoWincha.setBackground(new java.awt.Color(51, 153, 255));
        btnArqueoWincha.setMnemonic('A');
        btnArqueoWincha.setText("Arqueo Wincha");
        btnArqueoWincha.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnArqueoWinchaActionPerformed(evt);
            }
        });

        bntArqueoGeneral.setBackground(new java.awt.Color(51, 153, 255));
        bntArqueoGeneral.setMnemonic('A');
        bntArqueoGeneral.setText("Arqueo General");
        bntArqueoGeneral.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bntArqueoGeneralActionPerformed(evt);
            }
        });

        btnDiferencias.setBackground(new java.awt.Color(51, 153, 255));
        btnDiferencias.setMnemonic('A');
        btnDiferencias.setText("Registro Diferencia");
        btnDiferencias.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDiferenciasActionPerformed(evt);
            }
        });

        btnListadoPedidos.setBackground(new java.awt.Color(51, 153, 255));
        btnListadoPedidos.setMnemonic('A');
        btnListadoPedidos.setText("Pedidos");
        btnListadoPedidos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnListadoPedidosActionPerformed(evt);
            }
        });

        bntAceptar7.setBackground(new java.awt.Color(51, 153, 255));
        bntAceptar7.setMnemonic('A');
        bntAceptar7.setText("Salir");
        bntAceptar7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bntAceptar7ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(btnArqueoWincha, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bntArqueoGeneral, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnDiferencias, javax.swing.GroupLayout.PREFERRED_SIZE, 147, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnListadoPedidos, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bntAceptar7, javax.swing.GroupLayout.DEFAULT_SIZE, 96, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnArqueoWincha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(bntArqueoGeneral, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnDiferencias, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnListadoPedidos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(bntAceptar7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTable1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jTable1.setFont(new java.awt.Font("Tahoma", 0, 14));
        jTable1.setForeground(new java.awt.Color(153, 0, 0));
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"Emitidos", null, null, null, null, null},
                {"Monto Cobrado", null, null, null, null, null},
                {"Monto IGV", null, null, null, null, null},
                {"Monto Afecto", null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "", "Ticket / Boletas", "Bol. Manual", "Ticket / Factura", "Fact. Manual", "Testigo"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable1.setEnabled(false);
        jTable1.setFocusable(false);
        jTable1.setGridColor(new java.awt.Color(0, 0, 0));
        jTable1.setRowHeight(22);
        jTable1.setRowSelectionAllowed(false);
        jScrollPane1.setViewportView(jTable1);
        jTable1.getColumnModel().getColumn(0).setResizable(false);
        jTable1.getColumnModel().getColumn(1).setResizable(false);
        jTable1.getColumnModel().getColumn(2).setResizable(false);
        jTable1.getColumnModel().getColumn(3).setResizable(false);

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel1.setEnabled(false);
        jPanel1.setFocusable(false);
        jPanel1.setOpaque(false);

        jTable2.setBorder(new javax.swing.border.MatteBorder(null));
        jTable2.setFont(new java.awt.Font("Tahoma", 0, 14));
        jTable2.setForeground(new java.awt.Color(153, 153, 0));
        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"Emitidos", null},
                {"Tot No Emitidos", null},
                {"Monto Cobrado", null},
                {"Monto IGV", null},
                {"Monto Afecto", null}
            },
            new String [] {
                "", ""
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable2.setEnabled(false);
        jTable2.setFocusable(false);
        jTable2.setRowSelectionAllowed(false);
        jTable2.getTableHeader().setResizingAllowed(false);
        jTable2.getTableHeader().setReorderingAllowed(false);
        jScrollPane2.setViewportView(jTable2);
        jTable2.getColumnModel().getColumn(0).setResizable(false);
        jTable2.getColumnModel().getColumn(1).setResizable(false);

        jTable3.setBorder(new javax.swing.border.MatteBorder(null));
        jTable3.setFont(new java.awt.Font("Tahoma", 0, 14));
        jTable3.setForeground(new java.awt.Color(153, 153, 0));
        jTable3.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"Guias Emitidas", null},
                {"Pedidos Anulados", null},
                {"Monto Pedido Anulado", null}
            },
            new String [] {
                "", ""
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable3.setEnabled(false);
        jTable3.setFocusable(false);
        jTable3.setRowSelectionAllowed(false);
        jTable3.getTableHeader().setResizingAllowed(false);
        jTable3.getTableHeader().setReorderingAllowed(false);
        jScrollPane3.setViewportView(jTable3);
        jTable3.getColumnModel().getColumn(0).setResizable(false);
        jTable3.getColumnModel().getColumn(1).setResizable(false);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 36, Short.MAX_VALUE)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.Alignment.LEADING, 0, 0, Short.MAX_VALUE)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 89, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel4.setFocusable(false);
        jPanel4.setOpaque(false);

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel1.setText("Cajero :");

        txtNombreCajero.setEditable(false);

        txtCodCajero.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodCajeroActionPerformed(evt);
            }
        });
        txtCodCajero.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtCodCajeroKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtCodCajeroKeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtCodCajero, javax.swing.GroupLayout.PREFERRED_SIZE, 112, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(txtNombreCajero, javax.swing.GroupLayout.DEFAULT_SIZE, 436, Short.MAX_VALUE)
                .addGap(20, 20, 20))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(jLabel1)
                .addComponent(txtNombreCajero, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(txtCodCajero, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout panelImageArqueosLayout = new javax.swing.GroupLayout(panelImageArqueos);
        panelImageArqueos.setLayout(panelImageArqueosLayout);
        panelImageArqueosLayout.setHorizontalGroup(
            panelImageArqueosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelImageArqueosLayout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(panelImageArqueosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 837, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelImageArqueosLayout.setVerticalGroup(
            panelImageArqueosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelImageArqueosLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(19, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelImageArqueos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelImageArqueos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

private void bntAceptar7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bntAceptar7ActionPerformed
// TODO add your handling code here:
    dispose();
}//GEN-LAST:event_bntAceptar7ActionPerformed

private void btnArqueoWinchaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnArqueoWinchaActionPerformed
    GeneraWincha();
}//GEN-LAST:event_btnArqueoWinchaActionPerformed
private void GeneraWincha(){
    if ("".equals(txtCodCajero.getText())){
        JOptionPane.showMessageDialog(this, "Favor de Ingresar el codigo del Cajero");
        return;
    }
    if ("".equals(txtNombreCajero.getText())){
        JOptionPane.showMessageDialog(this, "Favor de Ingresar un Código de Cajero Valido");
        return;
    }

    String MovCaja = null;
    CCajaPago movimientoCaja = new CCajaPago();
    try {
        String Fecha=AtuxUtility.getDateToString(AtuxUtility.getStringToDate(txtFecha.getText(), "dd/MM/yyyy"), "ddMMyyyy");
        MovCaja = movimientoCaja.getRealizaMovimientoCaja("R", Fecha, txtCodCajero.getText(), Integer.parseInt(txtCaja.getText()), Integer.parseInt(txtTurno.getText()));
        if (MovCaja.length()!=8){
            JOptionPane.showMessageDialog(this, MovCaja);
            return;
        }
        PintarPatalla(MovCaja);
    } catch (SQLException ex) {
        logger.info("Error en PintarPatalla "+IArqueosDeCaja.class.getName()+ ex.getMessage());        
    }

    if (JOptionPane.showConfirmDialog (null, "Desea imprimir la wincha", AtuxVariables.vNombrePC, JOptionPane.YES_NO_OPTION) == JOptionPane.YES_OPTION){
        String Resultado = movimientoCaja.ImpresionWincha(MovCaja);
        JOptionPane.showMessageDialog(this, Resultado);
    }    
}
private void PintarPatalla(String NuMovimientoCaja){
    CCajaPago movimientoCaja = null;
    movimientoCaja = new CCajaPago().getRegistroPorPk(new Object[]{AtuxVariables.vCodigoCompania,AtuxVariables.vCodigoLocal,NuMovimientoCaja});

    jTable1.setValueAt(movimientoCaja.getcaBoletasGene(), 0, 1);
    jTable1.setValueAt(movimientoCaja.getcaBoletasManualGene(), 0, 2);
    jTable1.setValueAt(movimientoCaja.getcaFacturasGene(), 0, 3);
    jTable1.setValueAt(movimientoCaja.getcaFacturasManualGene(), 0, 2);
    jTable1.setValueAt(movimientoCaja.getvaMontoBoletasGene(), 1, 1);
    jTable1.setValueAt(movimientoCaja.getvaBoletasManualGene(), 1, 2);
    jTable1.setValueAt(movimientoCaja.getvaMontoFacturasGene(), 1, 3);
    jTable1.setValueAt(movimientoCaja.getvaFacturasManualGene(), 1, 4);
    jTable1.setValueAt(movimientoCaja.getvaIgvBoletasGene(), 2, 1);
    jTable1.setValueAt(movimientoCaja.getvaIgvBolManualGene(), 2, 2);
    jTable1.setValueAt(movimientoCaja.getvaIgvFacturasGene(), 2, 3);
    jTable1.setValueAt(movimientoCaja.getvaIgvFacManualGene(), 2, 4);
    jTable1.setValueAt(movimientoCaja.getvaBoletasAfecto(), 3, 1);
    jTable1.setValueAt(movimientoCaja.getvaBoletasAfectoManual(), 3, 2);
    jTable1.setValueAt(movimientoCaja.getvaFacturasAfecto(), 3, 3);
    jTable1.setValueAt(movimientoCaja.getvaFacturasAfectoManual(), 3, 4);

    jTable2.setValueAt(movimientoCaja.getcaBoletas() + movimientoCaja.getcaFacturas() + movimientoCaja.getcaGuias(), 0, 1);
    jTable2.setValueAt(movimientoCaja.getcaPedidosNoCobrado(), 1, 1);
    jTable2.setValueAt(movimientoCaja.getvaMontoBoletas() + movimientoCaja.getvaMontoFacturas() + movimientoCaja.getvaMontoGuias(), 2, 1);
    jTable2.setValueAt(movimientoCaja.getvaIgvBoletas() + movimientoCaja.getvaIgvFacturas(), 3, 1);
    jTable2.setValueAt((movimientoCaja.getvaMontoBoletas() + movimientoCaja.getvaMontoFacturas()) - movimientoCaja.getvaMontoAnul() , 4, 1);

    jTable3.setValueAt(movimientoCaja.getcaGuias(), 0, 1);
    jTable3.setValueAt(0, 1, 1);
    jTable3.setValueAt(0, 2, 1);    
}
private void txtCodCajeroKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCodCajeroKeyPressed
    if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
        LlenaDatosCajero();
    }
}//GEN-LAST:event_txtCodCajeroKeyPressed
private void txtCodCajeroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodCajeroActionPerformed
// TODO add your handling code here:
}//GEN-LAST:event_txtCodCajeroActionPerformed

private void bntArqueoGeneralActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bntArqueoGeneralActionPerformed
    ArqueoGeneral();
}//GEN-LAST:event_bntArqueoGeneralActionPerformed
private void ArqueoGeneral(){
    CCajaPago movimientoCaja = new CCajaPago();
    String MovCaja;
    String Fecha=AtuxUtility.getDateToString(AtuxUtility.getStringToDate(txtFecha.getText(), "dd/MM/yyyy"), "ddMMyyyy");        
    try {
        MovCaja = movimientoCaja.getRealizaArqueoGeneral(Fecha);
        System.out.println(MovCaja);
        PintarPatalla(MovCaja);
        if (JOptionPane.showConfirmDialog (null, "Desea imprimir la wincha de Arqueo General", AtuxVariables.vNombrePC, JOptionPane.YES_NO_OPTION) == JOptionPane.YES_OPTION){
            String Resultado = movimientoCaja.ImpresionWincha(MovCaja);
            JOptionPane.showMessageDialog(this, Resultado);
        }            
    } catch (SQLException ex) {
        logger.info("Error en ArqueoGeneral "+IArqueosDeCaja.class.getName()+ ex.getMessage());        
    }    
}
private void btnDiferenciasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDiferenciasActionPerformed
// TODO add your handling code here:
    RegistroDiferencias();
}//GEN-LAST:event_btnDiferenciasActionPerformed
private void RegistroDiferencias(){
        IObsCaja Dialog = new IObsCaja(new javax.swing.JFrame(), true);
        Dialog.LlenaDatosCajero(txtCodCajero.getText());
        Dialog.setVisible(true);
}
private void txtCodCajeroKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCodCajeroKeyReleased
// TODO add your handling code here:
    switch (evt.getKeyCode()){
        case KeyEvent.VK_F2: GeneraWincha();
             break;
        case KeyEvent.VK_F3: ArqueoGeneral();
             break;
        case KeyEvent.VK_F4: RegistroDiferencias();
             break;
        case KeyEvent.VK_F7: ListadoPedido();
             break;            
        case KeyEvent.VK_ESCAPE: dispose();
             break;
    }
}//GEN-LAST:event_txtCodCajeroKeyReleased
    
    
    private void btnListadoPedidosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnListadoPedidosActionPerformed
       ListadoPedido();
    }//GEN-LAST:event_btnListadoPedidosActionPerformed
    
    private void ListadoPedido(){
        String Fecha="";
        if ("".equals(txtFecha.getText())){
                try {
                    Fecha = AtuxDBUtility.getFechaHoraBD(1);

                } catch (SQLException ex) {
                    Logger.getLogger(IArqueosDeCaja.class.getName()).log(Level.SEVERE, null, ex);
                }
        }else{
            Fecha=txtFecha.getText();
        }
        IListadoPedido Dialog = new IListadoPedido(new javax.swing.JFrame(), true);
        System.out.println(Fecha);
        Dialog.ObtenerPedidos(Fecha);
        Dialog.setVisible(true);

    }
    
    private void Limpiar(){
        jTable2.getTableHeader().setVisible(false);
        jTable3.getTableHeader().setVisible(false);
        txtCodCajero.setText("");
        txtNombreCajero.setText("");
        txtCaja.setText("");
        txtFecha.setText("");
        txtSerie.setText("");
        txtTurno.setText("");
    }
    private void LlenaDatosCajero(){
        txtCodCajero.setText(AtuxUtility.completeWithSymbol(txtCodCajero.getText(), 6, "0", "I"));
        CUsuario cuser = new CUsuario();
        usuario = new Usuario();        
        usuario = cuser.getRegistroPorPk2(new Object[]{AtuxVariables.vCodigoCompania,AtuxVariables.vCodigoLocal,txtCodCajero.getText()});

        if (usuario != null){
            txtNombreCajero.setText(usuario.getNombreCompleto());
            try {
                if ("N".equals(AtuxSearch.getInCajaAbierta(AtuxSearch.getNuCaja(txtCodCajero.getText())))){
                    JOptionPane.showMessageDialog(this, "No existe Caja abierta para este usuario");
                    return;
                }
                txtNombreCajero.setText(usuario.getNombreCompleto());
                txtCaja.setText(AtuxSearch.getNuCaja(txtCodCajero.getText()));
                txtTurno.setText(AtuxSearch.getNuTurno(txtCaja.getText()));
                txtFecha.setText(AtuxSearch.getFeModCajaPago(txtCaja.getText(), txtTurno.getText()));
            } catch (SQLException ex) {
                Logger.getLogger(IArqueosDeCaja.class.getName()).log(Level.SEVERE, null, ex);
            }
        }else{
            JOptionPane.showMessageDialog(this, "Codigo de Trabajador no existe");
        }
    }    
    
    public void closeWindow(boolean pAceptar) {              
        AtuxVariables.vAceptar = pAceptar;       
        this.setVisible(false);        
        this.dispose();
    }    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private elaprendiz.gui.button.ButtonRound bntAceptar7;
    private elaprendiz.gui.button.ButtonRound bntArqueoGeneral;
    private elaprendiz.gui.button.ButtonRound btnArqueoWincha;
    private elaprendiz.gui.button.ButtonRound btnDiferencias;
    private elaprendiz.gui.button.ButtonRound btnListadoPedidos;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTable3;
    private elaprendiz.gui.panel.PanelImage panelImageArqueos;
    private elaprendiz.gui.textField.TextField txtCaja;
    private elaprendiz.gui.textField.TextField txtCodCajero;
    private elaprendiz.gui.textField.TextField txtFecha;
    private elaprendiz.gui.textField.TextField txtNombreCajero;
    private elaprendiz.gui.textField.TextField txtSerie;
    private elaprendiz.gui.textField.TextField txtTurno;
    // End of variables declaration//GEN-END:variables
}
